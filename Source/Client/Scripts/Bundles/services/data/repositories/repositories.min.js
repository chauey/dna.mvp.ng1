(function(){"use strict";function n(n){function i(n){t=n}function r(i){var r="repository."+i,u=n.get(r);return new u(t)}var t;return{getRepo:r,init:i}}angular.module("app.services.data").factory("repositories",["$injector",n])})(),function(){"use strict";function n(n,t,i){function r(){this.isLoaded=!1}function e(t,i){function e(){var t=f.loadWipEntity(u);if(t)return t.entityAspect.validateEntity(),n.when({entity:t,key:u})}var u=t,f=this.zStorageWip,r;if(r=e(),!r)if(u=f.findWipKeyByEntityId(this.entityName,u),!u||i)r=this._getById(this.entityName,t);else return r=e(),r?r:n.reject({error:"Couldn't find entity for WIP key "+u});return r}function o(n,t,i){return u.from(n).orderBy(t).where(i).using(this.manager).executeLocally()}function s(t,i,r){function h(n){return(u=n.entity,!u)?(f.log("Could not find ["+t+"] id: "+i+".",null,!0),null):(f.log("Retrieved ["+t+"] id "+u.id+" from remote data source.",u,!0),f.zStorage.save(),u)}var f=this,s=f.manager,u,o,e;if(!r&&(u=s.getEntityByKey(t,i),u)){if(u.name)f.log("Retrieved ["+t+"] "+u.name+" from cache.",u,!0);else{for(e in u)(e.indexOf("name")>-1||e.indexOf("Name")>-1&&e.indexOf("$")<0)&&(o=u[e]);o!=null?f.log("Retrieved ["+t+"] "+o+" from cache.",u,!0):f.log("Retrieved ["+t+"] id: "+i+" from cache.",u,!0)}return u.entityAspect.entityState.isDeleted()&&(u=null),n.when(u)}return s.fetchEntityByKey(t,i).then(h,f._queryFailed)}function h(n){var t=u.from(n).using(this.manager).executeLocally();return t.length}function c(n){return n.inlineCount}function l(n){if(n.status!=401){var t=i.appErrorPrefix+"Error retrieving data. "+n.message;f(t,n);throw n;}}var u=breeze.EntityQuery,f=t.logger.getLogFn(this.serviceId,"error","config");return r.extend=function(n){n.prototype=new r;n.prototype.constructor=n},r.prototype.getEntityByIdOrFromWip=e,r.prototype._getAllLocal=o,r.prototype._getById=s,r.prototype._getInlineCount=c,r.prototype._getLocalEntityCount=h,r.prototype._queryFailed=l,r.prototype.log=t.logger.getLogFn(this.serviceId),r.prototype.$q=t.$q,r}angular.module("app.services.data").factory("repository.abstract",["$q","common","config",n])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=g;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b;this.getAllByDomainObjectId=k;this.getAllByRoleId=d}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("accessControlListItems",!0),l.zStorage.save(),l.log("Retrieved [AccessControlListItems] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("roleId","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("accessControlListItems")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function y(n){return h.log("Retrieved [AccessControlListItems] from remote data source.",n.results.length,!0),n.results}var h=this,a=u||20,v=r?(r-1)*u:0,c=f.not(f.create("roleId","contains","[Select a ")),l;return s&&(c=c.and(_namePredicate(s))),l=t,i&&(l=t+" "+i),o.from(e).where(c).orderBy(l).take(a).skip(v).using(h.manager).execute().then(y).catch(h._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("roleId","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("accessControlListItems")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var t=h(n).and(f.not(f.create("roleId","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=f.not(f.create("roleId","contains","[Select a "));return n&&(i=f.create("roleId","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [AccessControlListItems] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("roleId","contains",n)}function k(n,t,i,r,u,h){function p(n){return c.zStorage.areItemsLoaded("accessControlListItems",!0),c.zStorage.save(),c.log("Retrieved [AccessControlListItems] from remote data source.",n.results.length,!0),a()}function a(){var n=f.not(f.create("roleId","contains","[Select a ")),t;return h&&(t=f.create("domainObjectId","equals",h),n=f.or(t)),o.from(e).where(n).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("accessControlListItems")&&!n)?c.$q.when(a()):o.from(e).orderBy(l).toType(s).using(c.manager).execute().then(p).catch(c._queryFailed)}function d(n,t,i,r,u,h){function p(n){return c.zStorage.areItemsLoaded("accessControlListItems",!0),c.zStorage.save(),c.log("Retrieved [AccessControlListItems] from remote data source.",n.results.length,!0),a()}function a(){var n=f.not(f.create("roleId","contains","[Select a ")),t;return h&&(t=f.create("roleId","equals",h),n=f.or(t)),o.from(e).where(n).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("accessControlListItems")&&!n)?c.$q.when(a()):o.from(e).orderBy(l).toType(s).using(c.manager).execute().then(p).catch(c._queryFailed)}function g(){return this.manager.createEntity(s,{createdDate:new Date,createdBy:"0"})}var s=t.entityNames.accessControlListItem,e=t.controllerNames.accessControlListItem,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.accessControlListItem";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i){function e(t){this.serviceId=n;this.entityNames=r;this.controllerNames=u;this.manager=t;this.getAll=o}function o(n,t,i,e,o,s){function v(t){return c.log("Retrieved "+n+" from remote data source.",t.results.length,!0),t.results}var c=this,l=s||20,a=o?(o-1)*s:0,h;switch(n.toLowerCase()){case"account":case"user":n=u.account;h=r.account;break;case"audit":n=u.audit;h=r.audit;break;case"elmah":case"error":n=u.error;h=r.error;break;case"token":n=u.token;h=r.token}return f.from(n).toType(h).using(c.manager).execute().then(v).catch(c._queryFailed)}var r={audit:t.entityNames.audit,error:t.entityNames.error,account:t.entityNames.account},u={audit:t.controllerNames.audit,error:t.controllerNames.error,account:t.controllerNames.account},f=breeze.EntityQuery;return i.extend(e),e}var n="repository.admin";angular.module("app.services.data").factory(n,["model","repository.abstract",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=d;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b;this.getAllByZHierarchyID=k}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("allDataTypes",!0),l.zStorage.save(),l.log("Retrieved [AllDataTypes] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("bigInt","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("allDataTypes")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function y(n){return h.log("Retrieved [AllDataTypes] from remote data source.",n.results.length,!0),n.results}var h=this,a=u||20,v=r?(r-1)*u:0,l=f.not(f.create("name","contains","[Select a ")),c;return s&&(l=l.and(_namePredicate(s))),c=t,i&&(c=t+" "+i),o.from(e).orderBy(c).take(a).skip(v).using(h.manager).execute().then(y).catch(h._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var i=h("").and(f.not(f.create("bigInt","contains","[Select a "))),n=o.from(e).using(t.manager).executeLocally();return n.length}var t=this;return t.zStorage.areItemsLoaded("allDataTypes")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var i=h(n).and(f.not(f.create("bigInt","contains","[Select a "))),t=o.from(e).using(this.manager).executeLocally();return t.length}function w(n){var t=this,i=f.not(f.create("code","contains","[Select a "));return n&&(i=f.create("bigInt","contains",n)),o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [AllDataTypes] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("bigInt","contains",n)}function k(n,t,i,r,u,h){function p(n){return c.zStorage.areItemsLoaded("allDataTypes",!0),c.zStorage.save(),c.log("Retrieved [AllDataTypes] from remote data source.",n.results.length,!0),a()}function a(){var t=f.not(f.create("code","contains","[Select a ")),n;return h&&(n=f.create("zHierarchyID","equals",h),t=f.or(n)),o.from(e).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("allDataTypes")&&!n)?c.$q.when(a()):o.from(e).orderBy(l).toType(s).using(c.manager).execute().then(p).catch(c._queryFailed)}function d(){return this.manager.createEntity(s,{allDataTypeID:breeze.core.getUuid(),createdDate:new Date})}var s=t.entityNames.allDataType,e=t.controllerNames.allDataType,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.allDataType";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=k;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("aspNetRoles",!0),l.zStorage.save(),l.log("Retrieved [AspNetRoles] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("name","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("aspNetRoles")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function p(n){return c.log("Retrieved [AspNetRoles] from remote data source.",n.results.length,!0),n.results}var c=this,v=u||20,y=r?(r-1)*u:0,l=f.not(f.create("name","contains","[Select a ")),a;return s&&(l=l.and(h(s))),a=t,i&&(a=t+" "+i),o.from(e).where(l).orderBy(a).take(v).skip(y).using(c.manager).execute().then(p).catch(c._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("name","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("aspNetRoles")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var t=h(n).and(f.not(f.create("name","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=f.not(f.create("name","contains","[Select a "));return n&&(i=f.create("name","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [AspNetRoles] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("name","contains",n)}function k(){return this.manager.createEntity(s,{id:0,createdDate:new Date})}var s=t.entityNames.aspNetRole,e=t.controllerNames.aspNetRole,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.aspNetRole";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=d;this.getAll=l;this.getById=v;this.getCount=p;this.getFilteredCount=w;this.getIdByUserName=y;this.getAllServer=a;this.getFilteredCountServer=b;this.getAllWithoutPaging=k}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("aspNetUsers",!0),l.zStorage.save(),l.log("Retrieved [AspNetUsers] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("userName","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("aspNetUsers")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function y(n){return h.log("Retrieved [AspNetUsers] from remote data source.",n.results.length,!0),n.results}var h=this,a=u||20,v=r?(r-1)*u:0,c=f.not(f.create("name","contains","[Select a ")),l;return s&&(c=c.and(_namePredicate(s))),l=t,i&&(l=t+" "+i),o.from(e).where(c).orderBy(l).take(a).skip(v).using(h.manager).execute().then(y).catch(h._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){var t=this,i=f.create("userName","equals",n);return o.from(e).where(i).take(1).select("id, userName").using(t.manager).execute().catch(t._queryFailed)}function p(n){function i(){var n=h("").and(f.not(f.create("userName","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("aspNetUsers")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function w(n){var t=h(n).and(f.not(f.create("userName","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function b(n){var t=this,i=f.not(f.create("code","contains","[Select a "));return n&&(i=f.create("userName","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function k(n){function i(n){return t.log("Retrieved [AspNetUsers] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("userName","contains",n)}function d(){return this.manager.createEntity(s,{createdDate:new Date})}var s=t.entityNames.aspNetUser,e=t.controllerNames.aspNetUser,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.aspNetUser";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=g;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b;this.getAllByUserId=k;this.getAllByRoleId=d}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("aspNetUserRoles",!0),l.zStorage.save(),l.log("Retrieved [AspNetUserRoles] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("aspNetUserRoles")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function y(n){return h.log("Retrieved [AspNetUserRoles] from remote data source.",n.results.length,!0),n.results}var h=this,a=u||20,v=r?(r-1)*u:0,c=f.not(f.create("name","contains","[Select a ")),l;return s&&(c=c.and(_namePredicate(s))),l=t,i&&(l=t+" "+i),o.from(e).where(c).orderBy(l).take(a).skip(v).using(h.manager).execute().then(y).catch(h._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("aspNetUserRoles")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var t=h(n).and(f.not(f.create("","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=f.not(f.create("code","contains","[Select a "));return n&&(i=f.create("","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [AspNetUserRoles] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("","contains",n)}function k(n,t,i,r,u,h){function p(n){return c.zStorage.areItemsLoaded("aspNetUserRoles",!0),c.zStorage.save(),c.log("Retrieved [AspNetUserRoles] from remote data source.",n.results.length,!0),a()}function a(){var n=f.not(f.create("code","contains","[Select a ")),t;return h&&(t=f.create("userId","equals",h),n=f.or(t)),o.from(e).where(n).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("aspNetUserRoles")&&!n)?c.$q.when(a()):o.from(e).orderBy(l).toType(s).using(c.manager).execute().then(p).catch(c._queryFailed)}function d(n,t,i,r,u,h){function p(n){return c.zStorage.areItemsLoaded("aspNetUserRoles",!0),c.zStorage.save(),c.log("Retrieved [AspNetUserRoles] from remote data source.",n.results.length,!0),a()}function a(){var n=f.not(f.create("code","contains","[Select a ")),t;return h&&(t=f.create("roleId","equals",h),n=f.or(t)),o.from(e).where(n).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("aspNetUserRoles")&&!n)?c.$q.when(a()):o.from(e).orderBy(l).toType(s).using(c.manager).execute().then(p).catch(c._queryFailed)}function g(){return this.manager.createEntity(s,{createdDate:new Date})}var s=t.entityNames.aspNetUserRole,e=t.controllerNames.aspNetUserRole,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.aspNetUserRole";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=w;this.getAll=l;this.getAllTest=a;this.getById=v;this.getCount=y;this.getFilteredCount=p}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("attachments",!0),l.zStorage.save(),l.log("Retrieved [Attachments] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("fileName","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("attachments")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r){function v(n){return u.zStorage.areItemsLoaded("attachments",!0),u.zStorage.save(),u.log("Retrieved [Attachments] from remote data source.",n.results.length,!0),c()}function c(){var n=f.not(f.create("fileName","contains","[Select a "));return r&&(n=n.and(h(r))),o.from(e).where(n).take(l).skip(a).using(u.manager).executeLocally()}var u=this,l=i||20,a=t?(t-1)*i:0;return u.zStorage.areItemsLoaded("attachments")&&!n?u.$q.when(c()):o.from(e).toType(s).using(u.manager).execute().then(v).catch(u._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("fileName","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("attachments")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount)}function p(n){var t=h(n).and(f.not(f.create("fileName","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function h(n){return f.create("fileName","contains",n)}function w(){return this.manager.createEntity(s,{attachmentID:breeze.core.getUuid(),createdDate:new Date})}var s=t.entityNames.attachment,e=t.controllerNames.attachment,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.attachment";angular.module("app.services.data").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=k;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("auditLog",!0),l.zStorage.save(),l.log("Retrieved [AuditLog] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("tableName","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("auditLog")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function y(n){return h.log("Retrieved [AuditLog] from remote data source.",n.results.length,!0),n.results}var h=this,a=u||20,v=r?(r-1)*u:0,c=f.not(f.create("name","contains","[Select a ")),l;return s&&(c=c.and(_namePredicate(s))),l=t,i&&(l=t+" "+i),o.from(e).where(c).orderBy(l).take(a).skip(v).using(h.manager).execute().then(y).catch(h._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("tableName","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("auditLog")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var t=h(n).and(f.not(f.create("tableName","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=f.not(f.create("code","contains","[Select a "));return n&&(i=f.create("tableName","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [AuditLog] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("tableName","contains",n)}function k(){return this.manager.createEntity(s,{createdDate:new Date})}var s=t.entityNames.auditLog,e=t.controllerNames.auditLog,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.auditLog";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u,f,e){function a(t){this.serviceId=n;this.entityName=c;this.controllerName=s;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=nt;this.getAll=v;this.getById=p;this.getCount=b;this.getFilteredCount=k;this.getAllServer=y;this.getFilteredCountServer=d;this.getAllWithoutPaging=g;this.getAllAccessControlListAndPermissions=w}function v(n,t,i,r,u,f){function w(n){return e.zStorage.areItemsLoaded("domainObjects",!0),e.zStorage.save(),e.log("Retrieved [DomainObjects] from remote data source.",n.results.length,!0),v()}function v(){var n=o.not(o.create("name","contains","[Select a "));return f&&(n=n.and(l(f))),h.from(s).where(n).orderBy(a).take(y).skip(p).using(e.manager).executeLocally()}var e=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),e.zStorage.areItemsLoaded("domainObjects")&&!n)?e.$q.when(v()):h.from(s).orderBy(a).toType(c).using(e.manager).execute().then(w).catch(e._queryFailed)}function y(n,t,i,r,u,f){function p(n){return e.log("Retrieved [DomainObjects] from remote data source.",n.results.length,!0),n.results}var e=this,v=u||20,y=r?(r-1)*u:0,c=o.not(o.create("name","contains","[Select a ")),a;return f&&(c=c.and(l(f))),a=t,i&&(a=t+" "+i),h.from(s).where(c).orderBy(a).take(v).skip(y).using(e.manager).execute().then(p).catch(e._queryFailed)}function p(n,t){return this._getById(c,n,t)}function w(n,t){var o=this,u=n,i,r;return t&&(u=n+" "+t),i=window.location.protocol+"//"+window.location.host+"/",r="breeze/AngularProjectBaseBreeze/",f.get(i+r+"GetAllAccessControlListAndPermissions").then(function(n){return e.accessControlList=n.data.accessControlList,e.permissions=n.data.permissions,n.data.accessControlList})}function b(n){function i(){var n=l("").and(o.not(o.create("name","contains","[Select a "))),i=h.from(s).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("domainObjects")&&!n?t.$q.when(i()):h.from(s).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function k(n){var t=l(n).and(o.not(o.create("name","contains","[Select a "))),i=h.from(s).where(t).using(this.manager).executeLocally();return i.length}function d(n){var t=this,i=o.not(o.create("name","contains","[Select a "));return n&&(i=o.create("name","contains",n)),h.from(s).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function g(n){function i(n){return t.log("Retrieved [DomainObjects] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",h.from(s).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function l(n){return o.create("name","contains",n)}function nt(){return this.manager.createEntity(c,{createdDate:new Date})}var c=t.entityNames.domainObject,s=t.controllerNames.domainObject,h=breeze.EntityQuery,o=breeze.Predicate;return i.extend(a),a}var n="repository.domainObject";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip","$http","$rootScope",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=k;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("eLMAH_Error",!0),l.zStorage.save(),l.log("Retrieved [ELMAH_Error] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("application","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("eLMAH_Error")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function y(n){return h.log("Retrieved [ELMAH_Error] from remote data source.",n.results.length,!0),n.results}var h=this,a=u||20,v=r?(r-1)*u:0,c=f.not(f.create("name","contains","[Select a ")),l;return s&&(c=c.and(_namePredicate(s))),l=t,i&&(l=t+" "+i),o.from(e).where(c).orderBy(l).take(a).skip(v).using(h.manager).execute().then(y).catch(h._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("application","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("eLMAH_Error")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var t=h(n).and(f.not(f.create("application","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=f.not(f.create("code","contains","[Select a "));return n&&(i=f.create("application","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [ELMAH_Error] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("application","contains",n)}function k(){return this.manager.createEntity(s,{eLMAH_ErrorID:breeze.core.getUuid(),createdDate:new Date})}var s=t.entityNames.eLMAH_Error,e=t.controllerNames.eLMAH_Error,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.eLMAH_Error";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r){function h(t){this.serviceId=n;this.entityName=c;this.manager=t;this.zStorage=r;this.getAll=v;this.setLookups=y}function v(){function i(i){return i.results.length>0&&(u=i.results[0].parentTypeOfTypes,f=i.results[0].types,e=i.results[0].domainObjects,s=i.results[0].permissions,o=i.results[0].roles),t.createNullos(n.manager),n.zStorage.save(),n.log("Retrieved [Lookups]",i,!0),!0}var n=this;return l.from("Lookups").using(n.manager).execute().then(i,n._queryFailed)}function y(){this.lookupCachedData={parentTypeOfTypes:u,types:f,domainObjects:e,permissions:s,roles:o}}var c="lookups",p=t.entityNames,w=t.controllerNames,l=breeze.EntityQuery,a=breeze.Predicate,u=[],f=[],e=[],o=[],s=[];return i.extend(h),h}var n="repository.lookup";angular.module("app.services.data").factory(n,["model","repository.abstract","zStorage",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=s;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=k;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w;this.getAllWithoutPaging=b}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("permissions",!0),l.zStorage.save(),l.log("Retrieved [Permissions] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("name","contains","[Select a "));return c&&(n=n.and(h(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("permissions")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(s).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,s){function p(n){return c.log("Retrieved [Permissions] from remote data source.",n.results.length,!0),n.results}var c=this,v=u||20,y=r?(r-1)*u:0,l=f.not(f.create("name","contains","[Select a ")),a;return s&&(l=l.and(h(s))),a=t,i&&(a=t+" "+i),o.from(e).where(l).orderBy(a).take(v).skip(y).using(c.manager).execute().then(p).catch(c._queryFailed)}function v(n,t){return this._getById(s,n,t)}function y(n){function i(){var n=h("").and(f.not(f.create("name","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("permissions")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function p(n){var t=h(n).and(f.not(f.create("name","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=f.not(f.create("name","contains","[Select a "));return n&&(i=f.create("name","contains",n)),o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount).catch(t._queryFailed)}function b(n){function i(n){return t.log("Retrieved [Permissions] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",o.from(e).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function h(n){return f.create("name","contains",n)}function k(){return this.manager.createEntity(s,{createdDate:new Date})}var s=t.entityNames.permission,e=t.controllerNames.permission,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.permission";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u,f){function l(t){this.serviceId=n;this.entityName=h;this.controllerName=o;this.manager=t;this.zStorage=u;this.zStorageWip=f;this.create=nt;this.create_Validation=tt;this.getById_Validation=it;this.getById_ValidationNG=rt;this.getAll=a;this.getById=y;this.getCount=p;this.getFilteredCount=w;this.getAllServer=v;this.getFilteredCountServer=b;this.getAllWithoutPaging=k;this.getAllByParentID=d;this.getAllByTypeID=g}function a(n,t,i,r,u,f){function w(n){return l.zStorage.areItemsLoaded("typeOfTypes",!0),l.zStorage.save(),l.log("Retrieved [TypeOfTypes] from remote data source.",n.results.length,!0),v()}function v(){var n=e.not(e.create("name","contains","[Select a "));return f&&(n=n.and(c(f))),s.from(o).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("typeOfTypes")&&!n)?l.$q.when(v()):s.from(o).orderBy(a).toType(h).using(l.manager).execute().then(w).catch(l._queryFailed)}function v(n,t,i,r,u,f){function p(n){return h.log("Retrieved [TypeOfTypes] from remote data source.",n.results.length,!0),n.results}var h=this,v=u||20,y=r?(r-1)*u:0,l=e.not(e.create("name","contains","[Select a ")),a;return f&&(l=l.and(c(f))),a=t,i&&(a=t+" "+i),s.from(o).where(l).orderBy(a).take(v).skip(y).using(h.manager).execute().then(p).catch(h._queryFailed)}function y(n,t){return this._getById(h,n,t)}function p(n){function i(){var n=c("").and(e.not(e.create("name","contains","[Select a "))),i=s.from(o).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("typeOfTypes")&&!n?t.$q.when(i()):s.from(o).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount)}function w(n){var t=c(n).and(e.not(e.create("name","contains","[Select a "))),i=s.from(o).where(t).using(this.manager).executeLocally();return i.length}function b(n){var t=this,i=e.not(e.create("code","contains","[Select a "));return n&&(i=e.create("name","contains",n)),s.from(o).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount)}function k(n){function i(n){return t.log("Retrieved [TypeOfTypes] from remote data source.",n.results.length,!0),n.results}var t=this;return n=n||"name",s.from(o).orderBy(n).using(t.manager).execute().then(i).catch(t._queryFailed)}function c(n){return e.create("name","contains",n)}function d(n,t,i,r,u,f){function p(n){return c.zStorage.areItemsLoaded("typeOfTypes",!0),c.zStorage.save(),c.log("Retrieved [TypeOfTypes] from remote data source.",n.results.length,!0),a()}function a(){var n=e.not(e.create("code","contains","[Select a ")),t;return f&&(t=e.create("parentID","equals",f),n=e.or(t)),s.from(o).where(n).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("typeOfTypes")&&!n)?c.$q.when(a()):s.from(o).orderBy(l).toType(h).using(c.manager).execute().then(p).catch(c._queryFailed)}function g(n,t,i,r,u,f){function p(n){return c.zStorage.areItemsLoaded("typeOfTypes",!0),c.zStorage.save(),c.log("Retrieved [TypeOfTypes] from remote data source.",n.results.length,!0),a()}function a(){var n=e.not(e.create("code","contains","[Select a ")),t;return f&&(t=e.create("typeID","equals",f),n=e.or(t)),s.from(o).where(n).orderBy(l).take(v).skip(y).using(c.manager).executeLocally()}var c=this,v=u||20,y=r?(r-1)*u:0,l=t;return(i&&(l=t+" "+i),c.zStorage.areItemsLoaded("typeOfTypes")&&!n)?c.$q.when(a()):s.from(o).orderBy(l).toType(h).using(c.manager).execute().then(p).catch(c._queryFailed)}function nt(){return this.manager.createEntity(h,{typeOfTypeID:breeze.core.getUuid(),createdDate:new Date,parentID:common.emptyGuid,typeID:common.emptyGuid})}function tt(){return this.manager.createEntity("Validation",{validationID:breeze.core.getUuid()})}function it(n,t){return this._getById("Validation",n,t)}function rt(n){var i=window.location.protocol+"//"+window.location.host+"/";return t.get(i+"breeze/AngularProjectBaseBreeze/Validations?$filter=ValidationID%20eq%20guid%27"+n+"%27").then(function(n){return n.data})}var h=i.entityNames.typeOfType,o=i.controllerNames.typeOfType,s=breeze.EntityQuery,e=breeze.Predicate;return r.extend(l),l}var n="repository.typeOfType";angular.module("app").factory(n,["$http","model","repository.abstract","zStorage","zStorageWip",t])}(),function(){"use strict";function t(t,i,r,u){function c(t){this.serviceId=n;this.entityName=h;this.controllerName=e;this.manager=t;this.zStorage=r;this.zStorageWip=u;this.create=b;this.getAll=l;this.getById=v;this.getCount=y;this.getFilteredCount=p;this.getAllServer=a;this.getFilteredCountServer=w}function l(n,t,i,r,u,c){function w(n){return l.zStorage.areItemsLoaded("users",!0),l.zStorage.save(),l.log("Retrieved [Users] from remote data source.",n.results.length,!0),v()}function v(){var n=f.not(f.create("lastName","contains","[Select a "));return c&&(n=n.and(s(c))),o.from(e).where(n).orderBy(a).take(y).skip(p).using(l.manager).executeLocally()}var l=this,y=u||20,p=r?(r-1)*u:0,a=t;return(i&&(a=t+" "+i),l.zStorage.areItemsLoaded("users")&&!n)?l.$q.when(v()):o.from(e).orderBy(a).toType(h).using(l.manager).execute().then(w).catch(l._queryFailed)}function a(n,t,i,r,u,h){function p(n){return c.log("Retrieved [Users] from remote data source.",n.results.length,!0),n.results}var c=this,v=u||20,y=r?(r-1)*u:0,l=f.not(f.create("lastName","contains","[Select a ")),a;return h&&(l=l.and(s(h))),a=t,i&&(a=t+" "+i),o.from(e).where(l).orderBy(a).take(v).skip(y).using(c.manager).execute().then(p).catch(c._queryFailed)}function v(n,t){return this._getById(h,n,t)}function y(n){function i(){var n=s("").and(f.not(f.create("lastName","contains","[Select a "))),i=o.from(e).where(n).using(t.manager).executeLocally();return i.length}var t=this;return t.zStorage.areItemsLoaded("users")&&!n?t.$q.when(i()):o.from(e).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount)}function p(n){var t=s(n).and(f.not(f.create("lastName","contains","[Select a "))),i=o.from(e).where(t).using(this.manager).executeLocally();return i.length}function w(n){var t=this,i=s(n).and(f.not(f.create("lastName","contains","[Select a ")));return o.from(e).where(i).take(0).inlineCount().using(t.manager).execute().then(t._getInlineCount)}function s(n){return f.create("lastName","contains",n)}function b(){return this.manager.createEntity(h,{userID:breeze.core.getUuid(),createdDate:new Date})}var h=t.entityNames.user,e=t.controllerNames.user,o=breeze.EntityQuery,f=breeze.Predicate;return i.extend(c),c}var n="repository.user";angular.module("app").factory(n,["model","repository.abstract","zStorage","zStorageWip",t])}();